# EduCode Backend Environment Variables
# Copy this file to .env and update the values as needed

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=EduCode
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
HOST=0.0.0.0
PORT=8000
RELOAD=true

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
SECRET_KEY=your-super-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql+asyncpg://educode_user:educode_pass@localhost:5432/educode_db
DATABASE_ECHO=false
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# =============================================================================
# REDIS CONFIGURATION (for Celery)
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# =============================================================================
# MINIO/S3 CONFIGURATION
# =============================================================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false
MINIO_BUCKET_NAME=educode
MINIO_REGION=us-east-1

# =============================================================================
# AI SERVICES CONFIGURATION
# =============================================================================
# OpenAI Configuration
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# Anthropic Configuration
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_MAX_TOKENS=2000

# =============================================================================
# SIMILARITY SERVICE CONFIGURATION
# =============================================================================
SIMILARITY_SERVICE_URL=http://localhost:8001
SIMILARITY_SERVICE_TIMEOUT=30
SIMILARITY_THRESHOLD=0.8

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_EXTENSIONS=[".py", ".js", ".java", ".cpp", ".c", ".go", ".rs", ".php", ".rb", ".swift", ".kt", ".ts", ".jsx", ".tsx"]
UPLOAD_PATH=uploads/

# =============================================================================
# TASK PROCESSING CONFIGURATION
# =============================================================================
MAX_CONCURRENT_TASKS=10
TASK_TIMEOUT=300  # 5 minutes
AUTO_GRADE_DELAY=60  # seconds after deadline
RETRY_ATTEMPTS=3
RETRY_DELAY=5  # seconds

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_FILE=logs/educode.log
LOG_MAX_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5

# =============================================================================
# MONITORING AND HEALTH CHECKS
# =============================================================================
HEALTH_CHECK_INTERVAL=30
METRICS_ENABLED=true
PROMETHEUS_PORT=9090

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Set to true to enable development features
DEV_MODE=true
# Set to true to create sample data on startup
CREATE_SAMPLE_DATA=false
# Set to true to enable API documentation
ENABLE_DOCS=true

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================
TEST_DATABASE_URL=postgresql+asyncpg://educode_user:educode_pass@localhost:5432/educode_test_db
TEST_REDIS_URL=redis://localhost:6379/1