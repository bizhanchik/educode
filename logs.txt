educode_postgres       | 2025-10-10 03:26:24.498 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
educode_api            |     class GroupWithUsers(GroupRead):
educode_postgres       | 2025-10-10 03:26:24.498 UTC [1] LOG:  listening on IPv6 address "::", port 5432
educode_celery_worker  | 
educode_celery_worker  | Did you remember to import the module containing this task?
educode_celery_worker  | Or maybe you're using relative imports?
educode_celery_worker  | 
educode_celery_worker  | Please see
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
educode_api            |     private_attributes = inspect_namespace(
educode_celery_worker  | https://docs.celeryq.dev/en/latest/internals/protocol.html
educode_postgres       | 2025-10-10 03:26:24.505 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
educode_celery_worker  | for more information.
educode_postgres       | 2025-10-10 03:26:24.509 UTC [29] LOG:  database system was shut down at 2025-10-10 03:26:02 UTC
educode_postgres       | 2025-10-10 03:26:24.513 UTC [1] LOG:  database system is ready to accept connections
educode_postgres       | 2025-10-10 03:26:34.506 UTC [39] FATAL:  role "educode_user" does not exist
educode_postgres       | 2025-10-10 03:26:44.541 UTC [46] FATAL:  role "educode_user" does not exist
educode_postgres       | 2025-10-10 03:26:54.586 UTC [53] FATAL:  role "educode_user" does not exist
educode_postgres       | 2025-10-10 03:27:04.625 UTC [60] FATAL:  role "educode_user" does not exist
educode_postgres       | 2025-10-10 03:27:14.656 UTC [67] FATAL:  role "educode_user" does not exist
educode_postgres       | 2025-10-10 03:27:24.622 UTC [68] WARNING:  database "clothing_db" has no actual collation version, but a version was recorded
educode_postgres       | 2025-10-10 03:27:24.691 UTC [75] FATAL:  role "educode_user" does not exist
educode_api            |                          ^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
educode_api            |     raise PydanticUserError(
educode_api            | pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `UserRead = <class 'app.schemas.user.UserRead'>`. All model fields require a type annotation; if `UserRead` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.
educode_api            | 
educode_api            | For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
educode_api            | Process SpawnProcess-3:
educode_api            | Traceback (most recent call last):
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
educode_api            |     self.run()
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
educode_api            |     self._target(*self._args, **self._kwargs)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
educode_api            |     target(sockets=sockets)
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message body was:
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
educode_api            |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_compat.py", line 23, in asyncio_run
educode_api            |     return runner.run(main)
educode_api            |            ^^^^^^^^^^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
educode_api            |     return self._loop.run_until_complete(task)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
educode_celery_worker  | b'[[], {}, {"callbacks": null, "errbacks": null, "chain": null, "chord": null}]' (77b)
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message headers:
educode_celery_worker  | {'lang': 'py', 'task': 'app.tasks.grading_tasks.auto_grade_expired_tasks', 'id': 'add9d8ae-3c72-4310-862c-d5cff84f4772', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': 'add9d8ae-3c72-4310-862c-d5cff84f4772', 'parent_id': None, 'argsrepr': '()', 'kwargsrepr': '{}', 'origin': 'gen1@69ce4f9b05dd', 'ignore_result': False, 'replaced_task_nesting': 0, 'stamped_headers': None, 'stamps': {}}
educode_celery_worker  | 
educode_celery_worker  | The delivery info for this task is:
educode_celery_worker  | {'exchange': '', 'routing_key': 'grading_queue'}
educode_celery_worker  | Traceback (most recent call last):
educode_celery_worker  |   File "/opt/venv/lib/python3.11/site-packages/celery/worker/consumer/consumer.py", line 662, in on_task_received
educode_celery_worker  |     strategy = strategies[type_]
educode_celery_worker  |                ~~~~~~~~~~^^^^^^^
educode_celery_worker  | KeyError: 'app.tasks.grading_tasks.auto_grade_expired_tasks'
educode_celery_worker  | [2025-10-09 08:14:09,826: ERROR/MainProcess] Received unregistered task of type 'app.tasks.grading_tasks.auto_grade_expired_tasks'.
educode_celery_worker  | The message has been ignored and discarded.
educode_celery_worker  | 
educode_api            |     await self._serve(sockets)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
educode_celery_worker  | Did you remember to import the module containing this task?
educode_celery_worker  | Or maybe you're using relative imports?
educode_celery_worker  | 
educode_celery_worker  | Please see
educode_celery_worker  | https://docs.celeryq.dev/en/latest/internals/protocol.html
educode_celery_worker  | for more information.
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message body was:
educode_celery_worker  | b'[[], {}, {"callbacks": null, "errbacks": null, "chain": null, "chord": null}]' (77b)
educode_api            |     config.load()
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/config.py", line 438, in load
educode_api            |     self.loaded_app = import_from_string(self.app)
educode_api            |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
educode_api            |     module = importlib.import_module(module_str)
educode_api            |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message headers:
educode_celery_worker  | {'lang': 'py', 'task': 'app.tasks.grading_tasks.auto_grade_expired_tasks', 'id': '50686bae-7dfc-40a1-86f5-cd3811093a6a', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': '50686bae-7dfc-40a1-86f5-cd3811093a6a', 'parent_id': None, 'argsrepr': '()', 'kwargsrepr': '{}', 'origin': 'gen1@69ce4f9b05dd', 'ignore_result': False, 'replaced_task_nesting': 0, 'stamped_headers': None, 'stamps': {}}
educode_celery_worker  | 
educode_celery_worker  | The delivery info for this task is:
educode_api            |     return _bootstrap._gcd_import(name[level:], package, level)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
educode_api            |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
educode_api            |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
educode_api            |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
educode_api            |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
educode_api            |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
educode_celery_worker  | {'exchange': '', 'routing_key': 'grading_queue'}
educode_celery_worker  | Traceback (most recent call last):
educode_celery_worker  |   File "/opt/venv/lib/python3.11/site-packages/celery/worker/consumer/consumer.py", line 662, in on_task_received
educode_celery_worker  |     strategy = strategies[type_]
educode_celery_worker  |                ~~~~~~~~~~^^^^^^^
educode_celery_worker  | KeyError: 'app.tasks.grading_tasks.auto_grade_expired_tasks'
educode_celery_worker  | [2025-10-09 08:15:09,816: ERROR/MainProcess] Received unregistered task of type 'app.tasks.grading_tasks.auto_grade_expired_tasks'.
educode_celery_worker  | The message has been ignored and discarded.
educode_celery_worker  | 
educode_celery_worker  | Did you remember to import the module containing this task?
educode_celery_worker  | Or maybe you're using relative imports?
educode_celery_worker  | 
educode_celery_worker  | Please see
educode_celery_worker  | https://docs.celeryq.dev/en/latest/internals/protocol.html
educode_celery_worker  | for more information.
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message body was:
educode_api            |   File "/app/app/main.py", line 10, in <module>
educode_api            |     from app.routes.health import router as health_router
educode_api            |   File "/app/app/routes/__init__.py", line 10, in <module>
educode_api            |     from .users import router as users_router
educode_api            |   File "/app/app/routes/users.py", line 16, in <module>
educode_api            |     from app.schemas.user import UserCreate, UserRead, UserUpdate, UserList
educode_api            |   File "/app/app/schemas/__init__.py", line 9, in <module>
educode_api            |     from app.schemas.group import GroupBase, GroupCreate, GroupRead
educode_api            |   File "/app/app/schemas/group.py", line 48, in <module>
educode_api            |     class GroupWithUsers(GroupRead):
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
educode_api            |     private_attributes = inspect_namespace(
educode_api            |                          ^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
educode_api            |     raise PydanticUserError(
educode_api            | pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `UserRead = <class 'app.schemas.user.UserRead'>`. All model fields require a type annotation; if `UserRead` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.
educode_api            | 
educode_api            | For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
educode_api            | INFO:     Stopping reloader process [1]
educode_api            | INFO:     Will watch for changes in these directories: ['/app']
educode_celery_worker  | b'[[], {}, {"callbacks": null, "errbacks": null, "chain": null, "chord": null}]' (77b)
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message headers:
educode_api            | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
educode_celery_worker  | {'lang': 'py', 'task': 'app.tasks.grading_tasks.auto_grade_expired_tasks', 'id': 'cedf74c4-7194-47f2-b7db-5287c64fc88e', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': 'cedf74c4-7194-47f2-b7db-5287c64fc88e', 'parent_id': None, 'argsrepr': '()', 'kwargsrepr': '{}', 'origin': 'gen1@69ce4f9b05dd', 'ignore_result': False, 'replaced_task_nesting': 0, 'stamped_headers': None, 'stamps': {}}
educode_celery_worker  | 
educode_celery_worker  | The delivery info for this task is:
educode_celery_worker  | {'exchange': '', 'routing_key': 'grading_queue'}
educode_celery_worker  | Traceback (most recent call last):
educode_api            | INFO:     Started reloader process [1] using WatchFiles
educode_api            | Process SpawnProcess-1:
educode_api            | Traceback (most recent call last):
educode_celery_worker  |   File "/opt/venv/lib/python3.11/site-packages/celery/worker/consumer/consumer.py", line 662, in on_task_received
educode_celery_worker  |     strategy = strategies[type_]
educode_celery_worker  |                ~~~~~~~~~~^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
educode_api            |     self.run()
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
educode_api            |     self._target(*self._args, **self._kwargs)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
educode_api            |     target(sockets=sockets)
educode_celery_worker  | KeyError: 'app.tasks.grading_tasks.auto_grade_expired_tasks'
educode_celery_worker  | [2025-10-09 08:20:18,567: ERROR/MainProcess] Received unregistered task of type 'app.tasks.grading_tasks.auto_grade_expired_tasks'.
educode_celery_worker  | The message has been ignored and discarded.
educode_celery_worker  | 
educode_celery_worker  | Did you remember to import the module containing this task?
educode_celery_worker  | Or maybe you're using relative imports?
educode_celery_worker  | 
educode_celery_worker  | Please see
educode_celery_worker  | https://docs.celeryq.dev/en/latest/internals/protocol.html
educode_celery_worker  | for more information.
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message body was:
educode_celery_worker  | b'[[], {}, {"callbacks": null, "errbacks": null, "chain": null, "chord": null}]' (77b)
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message headers:
educode_celery_worker  | {'lang': 'py', 'task': 'app.tasks.grading_tasks.auto_grade_expired_tasks', 'id': '3198abc3-bbbe-43e6-8f18-5e3d83f1a0bc', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': '3198abc3-bbbe-43e6-8f18-5e3d83f1a0bc', 'parent_id': None, 'argsrepr': '()', 'kwargsrepr': '{}', 'origin': 'gen1@69ce4f9b05dd', 'ignore_result': False, 'replaced_task_nesting': 0, 'stamped_headers': None, 'stamps': {}}
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
educode_api            |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_compat.py", line 23, in asyncio_run
educode_api            |     return runner.run(main)
educode_api            |            ^^^^^^^^^^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
educode_api            |     return self._loop.run_until_complete(task)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_celery_worker  | 
educode_celery_worker  | The delivery info for this task is:
educode_celery_worker  | {'exchange': '', 'routing_key': 'grading_queue'}
educode_celery_worker  | Traceback (most recent call last):
educode_api            |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
educode_api            |     await self._serve(sockets)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
educode_api            |     config.load()
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/config.py", line 438, in load
educode_celery_worker  |   File "/opt/venv/lib/python3.11/site-packages/celery/worker/consumer/consumer.py", line 662, in on_task_received
educode_celery_worker  |     strategy = strategies[type_]
educode_celery_worker  |                ~~~~~~~~~~^^^^^^^
educode_celery_worker  | KeyError: 'app.tasks.grading_tasks.auto_grade_expired_tasks'
educode_api            |     self.loaded_app = import_from_string(self.app)
educode_api            |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
educode_api            |     module = importlib.import_module(module_str)
educode_api            |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_celery_worker  | [2025-10-09 10:16:09,324: ERROR/MainProcess] Received unregistered task of type 'app.tasks.grading_tasks.auto_grade_expired_tasks'.
educode_celery_worker  | The message has been ignored and discarded.
educode_celery_worker  | 
educode_api            |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
educode_api            |     return _bootstrap._gcd_import(name[level:], package, level)
educode_celery_worker  | Did you remember to import the module containing this task?
educode_celery_worker  | Or maybe you're using relative imports?
educode_celery_worker  | 
educode_celery_worker  | Please see
educode_celery_worker  | https://docs.celeryq.dev/en/latest/internals/protocol.html
educode_celery_worker  | for more information.
educode_celery_worker  | 
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
educode_celery_worker  | The full contents of the message body was:
educode_celery_worker  | b'[[], {}, {"callbacks": null, "errbacks": null, "chain": null, "chord": null}]' (77b)
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message headers:
educode_celery_worker  | {'lang': 'py', 'task': 'app.tasks.grading_tasks.auto_grade_expired_tasks', 'id': '37167f56-65b9-4019-959e-99bb47ccc216', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': '37167f56-65b9-4019-959e-99bb47ccc216', 'parent_id': None, 'argsrepr': '()', 'kwargsrepr': '{}', 'origin': 'gen1@69ce4f9b05dd', 'ignore_result': False, 'replaced_task_nesting': 0, 'stamped_headers': None, 'stamps': {}}
educode_celery_worker  | 
educode_celery_worker  | The delivery info for this task is:
educode_celery_worker  | {'exchange': '', 'routing_key': 'grading_queue'}
educode_celery_worker  | Traceback (most recent call last):
educode_celery_worker  |   File "/opt/venv/lib/python3.11/site-packages/celery/worker/consumer/consumer.py", line 662, in on_task_received
educode_api            |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
educode_api            |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
educode_api            |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
educode_api            |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
educode_api            |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
educode_api            |   File "/app/app/main.py", line 10, in <module>
educode_api            |     from app.routes.health import router as health_router
educode_celery_worker  |     strategy = strategies[type_]
educode_celery_worker  |                ~~~~~~~~~~^^^^^^^
educode_celery_worker  | KeyError: 'app.tasks.grading_tasks.auto_grade_expired_tasks'
educode_celery_worker  | [2025-10-09 10:16:09,332: ERROR/MainProcess] Received unregistered task of type 'app.tasks.grading_tasks.cleanup_old_results'.
educode_celery_worker  | The message has been ignored and discarded.
educode_celery_worker  | 
educode_celery_worker  | Did you remember to import the module containing this task?
educode_celery_worker  | Or maybe you're using relative imports?
educode_celery_worker  | 
educode_api            |   File "/app/app/routes/__init__.py", line 10, in <module>
educode_api            |     from .users import router as users_router
educode_api            |   File "/app/app/routes/users.py", line 16, in <module>
educode_api            |     from app.schemas.user import UserCreate, UserRead, UserUpdate, UserList
educode_api            |   File "/app/app/schemas/__init__.py", line 9, in <module>
educode_celery_worker  | Please see
educode_celery_worker  | https://docs.celeryq.dev/en/latest/internals/protocol.html
educode_celery_worker  | for more information.
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message body was:
educode_celery_worker  | b'[[], {}, {"callbacks": null, "errbacks": null, "chain": null, "chord": null}]' (77b)
educode_celery_worker  | 
educode_api            |     from app.schemas.group import GroupBase, GroupCreate, GroupRead
educode_api            |   File "/app/app/schemas/group.py", line 48, in <module>
educode_api            |     class GroupWithUsers(GroupRead):
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
educode_api            |     private_attributes = inspect_namespace(
educode_api            |                          ^^^^^^^^^^^^^^^^^^
educode_celery_worker  | The full contents of the message headers:
educode_celery_worker  | {'lang': 'py', 'task': 'app.tasks.grading_tasks.cleanup_old_results', 'id': 'b5ddac00-9066-479f-9cf9-4930f63b34e4', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': 'b5ddac00-9066-479f-9cf9-4930f63b34e4', 'parent_id': None, 'argsrepr': '()', 'kwargsrepr': '{}', 'origin': 'gen1@69ce4f9b05dd', 'ignore_result': False, 'replaced_task_nesting': 0, 'stamped_headers': None, 'stamps': {}}
educode_celery_worker  | 
educode_celery_worker  | The delivery info for this task is:
educode_celery_worker  | {'exchange': '', 'routing_key': 'grading_queue'}
educode_celery_worker  | Traceback (most recent call last):
educode_celery_worker  |   File "/opt/venv/lib/python3.11/site-packages/celery/worker/consumer/consumer.py", line 662, in on_task_received
educode_celery_worker  |     strategy = strategies[type_]
educode_celery_worker  |                ~~~~~~~~~~^^^^^^^
educode_celery_worker  | KeyError: 'app.tasks.grading_tasks.cleanup_old_results'
educode_celery_worker  | [2025-10-09 10:17:09,339: ERROR/MainProcess] Received unregistered task of type 'app.tasks.grading_tasks.auto_grade_expired_tasks'.
educode_celery_worker  | The message has been ignored and discarded.
educode_celery_worker  | 
educode_celery_worker  | Did you remember to import the module containing this task?
educode_celery_worker  | Or maybe you're using relative imports?
educode_celery_worker  | 
educode_celery_worker  | Please see
educode_celery_worker  | https://docs.celeryq.dev/en/latest/internals/protocol.html
educode_celery_worker  | for more information.
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message body was:
educode_celery_worker  | b'[[], {}, {"callbacks": null, "errbacks": null, "chain": null, "chord": null}]' (77b)
educode_celery_worker  | 
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
educode_api            |     raise PydanticUserError(
educode_api            | pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `UserRead = <class 'app.schemas.user.UserRead'>`. All model fields require a type annotation; if `UserRead` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.
educode_api            | 
educode_api            | For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
educode_api            | WARNING:  WatchFiles detected changes in 'app/schemas/group.py'. Reloading...
educode_api            | Process SpawnProcess-2:
educode_api            | Traceback (most recent call last):
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
educode_api            |     self.run()
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
educode_api            |     self._target(*self._args, **self._kwargs)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
educode_api            |     target(sockets=sockets)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
educode_celery_worker  | The full contents of the message headers:
educode_celery_worker  | {'lang': 'py', 'task': 'app.tasks.grading_tasks.auto_grade_expired_tasks', 'id': 'de9be372-40c1-43f2-bcdc-0ff0b4b8cde5', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': 'de9be372-40c1-43f2-bcdc-0ff0b4b8cde5', 'parent_id': None, 'argsrepr': '()', 'kwargsrepr': '{}', 'origin': 'gen1@69ce4f9b05dd', 'ignore_result': False, 'replaced_task_nesting': 0, 'stamped_headers': None, 'stamps': {}}
educode_celery_worker  | 
educode_celery_worker  | The delivery info for this task is:
educode_celery_worker  | {'exchange': '', 'routing_key': 'grading_queue'}
educode_celery_worker  | Traceback (most recent call last):
educode_celery_worker  |   File "/opt/venv/lib/python3.11/site-packages/celery/worker/consumer/consumer.py", line 662, in on_task_received
educode_celery_worker  |     strategy = strategies[type_]
educode_celery_worker  |                ~~~~~~~~~~^^^^^^^
educode_api            |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_compat.py", line 23, in asyncio_run
educode_api            |     return runner.run(main)
educode_api            |            ^^^^^^^^^^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
educode_celery_worker  | KeyError: 'app.tasks.grading_tasks.auto_grade_expired_tasks'
educode_celery_worker  | [2025-10-09 10:18:09,348: ERROR/MainProcess] Received unregistered task of type 'app.tasks.grading_tasks.auto_grade_expired_tasks'.
educode_api            |     return self._loop.run_until_complete(task)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
educode_api            |     await self._serve(sockets)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
educode_api            |     config.load()
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/config.py", line 438, in load
educode_api            |     self.loaded_app = import_from_string(self.app)
educode_api            |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
educode_api            |     module = importlib.import_module(module_str)
educode_api            |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
educode_api            |     return _bootstrap._gcd_import(name[level:], package, level)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
educode_celery_worker  | The message has been ignored and discarded.
educode_celery_worker  | 
educode_celery_worker  | Did you remember to import the module containing this task?
educode_celery_worker  | Or maybe you're using relative imports?
educode_celery_worker  | 
educode_celery_worker  | Please see
educode_celery_worker  | https://docs.celeryq.dev/en/latest/internals/protocol.html
educode_celery_worker  | for more information.
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message body was:
educode_celery_worker  | b'[[], {}, {"callbacks": null, "errbacks": null, "chain": null, "chord": null}]' (77b)
educode_api            |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
educode_api            |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
educode_api            |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
educode_api            |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
educode_api            |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message headers:
educode_api            |   File "/app/app/main.py", line 10, in <module>
educode_api            |     from app.routes.health import router as health_router
educode_api            |   File "/app/app/routes/__init__.py", line 10, in <module>
educode_api            |     from .users import router as users_router
educode_api            |   File "/app/app/routes/users.py", line 16, in <module>
educode_api            |     from app.schemas.user import UserCreate, UserRead, UserUpdate, UserList
educode_celery_worker  | {'lang': 'py', 'task': 'app.tasks.grading_tasks.auto_grade_expired_tasks', 'id': '2f9706a0-4c16-448b-abcf-bdc1790f25fc', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': '2f9706a0-4c16-448b-abcf-bdc1790f25fc', 'parent_id': None, 'argsrepr': '()', 'kwargsrepr': '{}', 'origin': 'gen1@69ce4f9b05dd', 'ignore_result': False, 'replaced_task_nesting': 0, 'stamped_headers': None, 'stamps': {}}
educode_celery_worker  | 
educode_celery_worker  | The delivery info for this task is:
educode_celery_worker  | {'exchange': '', 'routing_key': 'grading_queue'}
educode_celery_worker  | Traceback (most recent call last):
educode_celery_worker  |   File "/opt/venv/lib/python3.11/site-packages/celery/worker/consumer/consumer.py", line 662, in on_task_received
educode_celery_worker  |     strategy = strategies[type_]
educode_celery_worker  |                ~~~~~~~~~~^^^^^^^
educode_celery_worker  | KeyError: 'app.tasks.grading_tasks.auto_grade_expired_tasks'
educode_celery_worker  | [2025-10-09 10:19:09,358: ERROR/MainProcess] Received unregistered task of type 'app.tasks.grading_tasks.auto_grade_expired_tasks'.
educode_celery_worker  | The message has been ignored and discarded.
educode_api            |   File "/app/app/schemas/__init__.py", line 10, in <module>
educode_api            |     from app.schemas.subject import SubjectBase, SubjectCreate, SubjectRead
educode_api            |   File "/app/app/schemas/subject.py", line 49, in <module>
educode_api            |     class SubjectWithLessons(SubjectRead):
educode_api            |   File "/app/app/schemas/subject.py", line 51, in SubjectWithLessons
educode_api            |     from app.schemas.lesson import LessonRead
educode_celery_worker  | 
educode_celery_worker  | Did you remember to import the module containing this task?
educode_celery_worker  | Or maybe you're using relative imports?
educode_celery_worker  | 
educode_celery_worker  | Please see
educode_celery_worker  | https://docs.celeryq.dev/en/latest/internals/protocol.html
educode_celery_worker  | for more information.
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message body was:
educode_api            |   File "/app/app/schemas/lesson.py", line 53, in <module>
educode_api            |     class LessonWithTasks(LessonRead):
educode_api            |   File "/app/app/schemas/lesson.py", line 55, in LessonWithTasks
educode_api            |     from app.schemas.task import TaskRead
educode_api            |   File "/app/app/schemas/task.py", line 61, in <module>
educode_api            |     class TaskWithSubmissions(TaskRead):
educode_api            |   File "/app/app/schemas/task.py", line 63, in TaskWithSubmissions
educode_api            |     from app.schemas.submission import SubmissionRead
educode_celery_worker  | b'[[], {}, {"callbacks": null, "errbacks": null, "chain": null, "chord": null}]' (77b)
educode_celery_worker  | 
educode_api            |   File "/app/app/schemas/submission.py", line 57, in <module>
educode_api            |     class SubmissionWithEvaluation(SubmissionRead):
educode_api            |   File "/app/app/schemas/submission.py", line 59, in SubmissionWithEvaluation
educode_api            |     from app.schemas.evaluation import EvaluationRead
educode_api            |   File "/app/app/schemas/evaluation.py", line 59, in <module>
educode_api            |     class EvaluationWithSubmission(EvaluationRead):
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
educode_celery_worker  | The full contents of the message headers:
educode_celery_worker  | {'lang': 'py', 'task': 'app.tasks.grading_tasks.auto_grade_expired_tasks', 'id': 'aef786d9-cadb-4c1c-bc1e-a1e508da42c8', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': 'aef786d9-cadb-4c1c-bc1e-a1e508da42c8', 'parent_id': None, 'argsrepr': '()', 'kwargsrepr': '{}', 'origin': 'gen1@69ce4f9b05dd', 'ignore_result': False, 'replaced_task_nesting': 0, 'stamped_headers': None, 'stamps': {}}
educode_celery_worker  | 
educode_celery_worker  | The delivery info for this task is:
educode_celery_worker  | {'exchange': '', 'routing_key': 'grading_queue'}
educode_celery_worker  | Traceback (most recent call last):
educode_celery_worker  |   File "/opt/venv/lib/python3.11/site-packages/celery/worker/consumer/consumer.py", line 662, in on_task_received
educode_celery_worker  |     strategy = strategies[type_]
educode_celery_worker  |                ~~~~~~~~~~^^^^^^^
educode_api            |     private_attributes = inspect_namespace(
educode_api            |                          ^^^^^^^^^^^^^^^^^^
educode_celery_worker  | KeyError: 'app.tasks.grading_tasks.auto_grade_expired_tasks'
educode_celery_worker  | [2025-10-09 10:20:09,352: ERROR/MainProcess] Received unregistered task of type 'app.tasks.grading_tasks.auto_grade_expired_tasks'.
educode_celery_worker  | The message has been ignored and discarded.
educode_celery_worker  | 
educode_celery_worker  | Did you remember to import the module containing this task?
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
educode_api            |     raise PydanticUserError(
educode_api            | pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `SubmissionRead = <class 'app.schemas.submission.SubmissionRead'>`. All model fields require a type annotation; if `SubmissionRead` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.
educode_api            | 
educode_api            | For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
educode_api            | INFO:     Stopping reloader process [1]
educode_celery_worker  | Or maybe you're using relative imports?
educode_celery_worker  | 
educode_celery_worker  | Please see
educode_celery_worker  | https://docs.celeryq.dev/en/latest/internals/protocol.html
educode_celery_worker  | for more information.
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message body was:
educode_celery_worker  | b'[[], {}, {"callbacks": null, "errbacks": null, "chain": null, "chord": null}]' (77b)
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message headers:
educode_celery_worker  | {'lang': 'py', 'task': 'app.tasks.grading_tasks.auto_grade_expired_tasks', 'id': 'cb4f1f0f-9ebd-4994-a7a8-17508a6822ea', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': 'cb4f1f0f-9ebd-4994-a7a8-17508a6822ea', 'parent_id': None, 'argsrepr': '()', 'kwargsrepr': '{}', 'origin': 'gen1@69ce4f9b05dd', 'ignore_result': False, 'replaced_task_nesting': 0, 'stamped_headers': None, 'stamps': {}}
educode_api            | INFO:     Will watch for changes in these directories: ['/app']
educode_api            | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
educode_api            | INFO:     Started reloader process [1] using WatchFiles
educode_api            | Process SpawnProcess-1:
educode_celery_worker  | 
educode_celery_worker  | The delivery info for this task is:
educode_celery_worker  | {'exchange': '', 'routing_key': 'grading_queue'}
educode_api            | Traceback (most recent call last):
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
educode_api            |     self.run()
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
educode_api            |     self._target(*self._args, **self._kwargs)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
educode_api            |     target(sockets=sockets)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
educode_api            |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_compat.py", line 23, in asyncio_run
educode_api            |     return runner.run(main)
educode_api            |            ^^^^^^^^^^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
educode_celery_worker  | Traceback (most recent call last):
educode_celery_worker  |   File "/opt/venv/lib/python3.11/site-packages/celery/worker/consumer/consumer.py", line 662, in on_task_received
educode_celery_worker  |     strategy = strategies[type_]
educode_celery_worker  |                ~~~~~~~~~~^^^^^^^
educode_celery_worker  | KeyError: 'app.tasks.grading_tasks.auto_grade_expired_tasks'
educode_celery_worker  | 
educode_celery_worker  | worker: Warm shutdown (MainProcess)
educode_celery_worker  |  
educode_celery_worker  |  -------------- celery@b700945278de v5.5.3 (immunity)
educode_celery_worker  | --- ***** ----- 
educode_api            |     return self._loop.run_until_complete(task)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
educode_api            |     await self._serve(sockets)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
educode_api            |     config.load()
educode_celery_worker  | -- ******* ---- Linux-6.10.14-linuxkit-aarch64-with-glibc2.41 2025-10-10 03:25:10
educode_celery_worker  | - *** --- * --- 
educode_celery_worker  | - ** ---------- [config]
educode_celery_worker  | - ** ---------- .> app:         educode:0xffffa669b6d0
educode_celery_worker  | - ** ---------- .> transport:   redis://redis:6379/0
educode_celery_worker  | - ** ---------- .> results:     redis://redis:6379/0
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/config.py", line 438, in load
educode_api            |     self.loaded_app = import_from_string(self.app)
educode_api            |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
educode_api            |     module = importlib.import_module(module_str)
educode_api            |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
educode_api            |     return _bootstrap._gcd_import(name[level:], package, level)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
educode_api            |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
educode_api            |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
educode_api            |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
educode_api            |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
educode_api            |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
educode_celery_worker  | - *** --- * --- .> concurrency: 11 (prefork)
educode_celery_worker  | -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
educode_celery_worker  | --- ***** ----- 
educode_celery_worker  |  -------------- [queues]
educode_celery_worker  |                 .> ai_queue         exchange=celery(direct) key=ai
educode_api            |   File "/app/app/main.py", line 10, in <module>
educode_api            |     from app.routes.health import router as health_router
educode_api            |   File "/app/app/routes/__init__.py", line 10, in <module>
educode_celery_worker  |                 .> celery           exchange=celery(direct) key=celery
educode_celery_worker  |                 .> grading_queue    exchange=celery(direct) key=grading
educode_celery_worker  | 
educode_celery_worker  | [tasks]
educode_celery_worker  |   . app.tasks.ai_tasks.generate_ai_solutions
educode_celery_worker  |   . app.tasks.ai_tasks.validate_ai_solution
educode_celery_worker  |   . app.tasks.celery_app.health_check
educode_celery_worker  |   . app.tasks.celery_app.test_task
educode_celery_worker  |   . app.tasks.grading_tasks.batch_grade_submissions
educode_celery_worker  |   . app.tasks.grading_tasks.calculate_ai_similarity
educode_celery_worker  |   . app.tasks.grading_tasks.calculate_intra_group_similarity
educode_celery_worker  |   . app.tasks.grading_tasks.generate_final_grade
educode_celery_worker  | 
educode_celery_worker  | [2025-10-10 03:25:10,914: INFO/MainProcess] Connected to redis://redis:6379/0
educode_celery_worker  | [2025-10-10 03:25:10,917: INFO/MainProcess] mingle: searching for neighbors
educode_celery_worker  | [2025-10-10 03:25:11,934: INFO/MainProcess] mingle: all alone
educode_celery_worker  | [2025-10-10 03:25:11,946: INFO/MainProcess] celery@b700945278de ready.
educode_celery_worker  | [2025-10-10 03:25:11,949: ERROR/MainProcess] Received unregistered task of type 'app.tasks.grading_tasks.cleanup_old_results'.
educode_celery_worker  | The message has been ignored and discarded.
educode_celery_worker  | 
educode_celery_worker  | Did you remember to import the module containing this task?
educode_celery_worker  | Or maybe you're using relative imports?
educode_api            |     from .users import router as users_router
educode_api            |   File "/app/app/routes/users.py", line 16, in <module>
educode_api            |     from app.schemas.user import UserCreate, UserRead, UserUpdate, UserList
educode_api            |   File "/app/app/schemas/__init__.py", line 10, in <module>
educode_celery_worker  | 
educode_celery_worker  | Please see
educode_celery_worker  | https://docs.celeryq.dev/en/latest/internals/protocol.html
educode_celery_worker  | for more information.
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message body was:
educode_api            |     from app.schemas.subject import SubjectBase, SubjectCreate, SubjectRead
educode_api            |   File "/app/app/schemas/subject.py", line 49, in <module>
educode_api            |     class SubjectWithLessons(SubjectRead):
educode_api            |   File "/app/app/schemas/subject.py", line 51, in SubjectWithLessons
educode_api            |     from app.schemas.lesson import LessonRead
educode_api            |   File "/app/app/schemas/lesson.py", line 53, in <module>
educode_api            |     class LessonWithTasks(LessonRead):
educode_celery_worker  | b'[[], {}, {"callbacks": null, "errbacks": null, "chain": null, "chord": null}]' (77b)
educode_api            |   File "/app/app/schemas/lesson.py", line 55, in LessonWithTasks
educode_api            |     from app.schemas.task import TaskRead
educode_api            |   File "/app/app/schemas/task.py", line 61, in <module>
educode_api            |     class TaskWithSubmissions(TaskRead):
educode_api            |   File "/app/app/schemas/task.py", line 63, in TaskWithSubmissions
educode_api            |     from app.schemas.submission import SubmissionRead
educode_api            |   File "/app/app/schemas/submission.py", line 57, in <module>
educode_api            |     class SubmissionWithEvaluation(SubmissionRead):
educode_api            |   File "/app/app/schemas/submission.py", line 59, in SubmissionWithEvaluation
educode_api            |     from app.schemas.evaluation import EvaluationRead
educode_api            |   File "/app/app/schemas/evaluation.py", line 59, in <module>
educode_api            |     class EvaluationWithSubmission(EvaluationRead):
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
educode_api            |     private_attributes = inspect_namespace(
educode_api            |                          ^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
educode_api            |     raise PydanticUserError(
educode_api            | pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `SubmissionRead = <class 'app.schemas.submission.SubmissionRead'>`. All model fields require a type annotation; if `SubmissionRead` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.
educode_api            | 
educode_api            | For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
educode_api            | INFO:     Stopping reloader process [1]
educode_celery_worker  | 
educode_api            | INFO:     Will watch for changes in these directories: ['/app']
educode_celery_worker  | The full contents of the message headers:
educode_celery_worker  | {'lang': 'py', 'task': 'app.tasks.grading_tasks.cleanup_old_results', 'id': 'b3320459-edfb-4497-95d6-40ec65e9cf93', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': 'b3320459-edfb-4497-95d6-40ec65e9cf93', 'parent_id': None, 'argsrepr': '()', 'kwargsrepr': '{}', 'origin': 'gen1@69ce4f9b05dd', 'ignore_result': False, 'replaced_task_nesting': 0, 'stamped_headers': None, 'stamps': {}}
educode_celery_worker  | 
educode_celery_worker  | The delivery info for this task is:
educode_celery_worker  | {'exchange': '', 'routing_key': 'grading_queue'}
educode_celery_worker  | Traceback (most recent call last):
educode_celery_worker  |   File "/opt/venv/lib/python3.11/site-packages/celery/worker/consumer/consumer.py", line 662, in on_task_received
educode_celery_worker  |     strategy = strategies[type_]
educode_api            | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
educode_api            | INFO:     Started reloader process [1] using WatchFiles
educode_api            | Process SpawnProcess-1:
educode_api            | Traceback (most recent call last):
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
educode_api            |     self.run()
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
educode_api            |     self._target(*self._args, **self._kwargs)
educode_celery_worker  |                ~~~~~~~~~~^^^^^^^
educode_celery_worker  | KeyError: 'app.tasks.grading_tasks.cleanup_old_results'
educode_celery_worker  | [2025-10-10 03:25:11,953: ERROR/MainProcess] Received unregistered task of type 'app.tasks.grading_tasks.auto_grade_expired_tasks'.
educode_celery_worker  | The message has been ignored and discarded.
educode_celery_worker  | 
educode_celery_worker  | Did you remember to import the module containing this task?
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
educode_api            |     target(sockets=sockets)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
educode_api            |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_compat.py", line 23, in asyncio_run
educode_api            |     return runner.run(main)
educode_api            |            ^^^^^^^^^^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
educode_api            |     return self._loop.run_until_complete(task)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_celery_worker  | Or maybe you're using relative imports?
educode_celery_worker  | 
educode_celery_worker  | Please see
educode_celery_worker  | https://docs.celeryq.dev/en/latest/internals/protocol.html
educode_api            |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
educode_api            |     await self._serve(sockets)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
educode_api            |     config.load()
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/config.py", line 438, in load
educode_api            |     self.loaded_app = import_from_string(self.app)
educode_celery_worker  | for more information.
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message body was:
educode_celery_worker  | b'[[], {}, {"callbacks": null, "errbacks": null, "chain": null, "chord": null}]' (77b)
educode_celery_worker  | 
educode_api            |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
educode_api            |     module = importlib.import_module(module_str)
educode_api            |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
educode_api            |     return _bootstrap._gcd_import(name[level:], package, level)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
educode_api            |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
educode_api            |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
educode_api            |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
educode_api            |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
educode_api            |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
educode_api            |   File "/app/app/main.py", line 10, in <module>
educode_api            |     from app.routes.health import router as health_router
educode_api            |   File "/app/app/routes/__init__.py", line 10, in <module>
educode_api            |     from .users import router as users_router
educode_api            |   File "/app/app/routes/users.py", line 16, in <module>
educode_celery_worker  | The full contents of the message headers:
educode_celery_worker  | {'lang': 'py', 'task': 'app.tasks.grading_tasks.auto_grade_expired_tasks', 'id': '8f94acd6-cbb1-41f6-8e31-0ba75ac345dc', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': '8f94acd6-cbb1-41f6-8e31-0ba75ac345dc', 'parent_id': None, 'argsrepr': '()', 'kwargsrepr': '{}', 'origin': 'gen1@69ce4f9b05dd', 'ignore_result': False, 'replaced_task_nesting': 0, 'stamped_headers': None, 'stamps': {}}
educode_celery_worker  | 
educode_celery_worker  | The delivery info for this task is:
educode_celery_worker  | {'exchange': '', 'routing_key': 'grading_queue'}
educode_celery_worker  | Traceback (most recent call last):
educode_celery_worker  |   File "/opt/venv/lib/python3.11/site-packages/celery/worker/consumer/consumer.py", line 662, in on_task_received
educode_celery_worker  |     strategy = strategies[type_]
educode_celery_worker  |                ~~~~~~~~~~^^^^^^^
educode_celery_worker  | KeyError: 'app.tasks.grading_tasks.auto_grade_expired_tasks'
educode_celery_worker  | 
educode_celery_worker  | worker: Warm shutdown (MainProcess)
educode_celery_worker  |  
educode_celery_worker  |  -------------- celery@b700945278de v5.5.3 (immunity)
educode_celery_worker  | --- ***** ----- 
educode_celery_worker  | -- ******* ---- Linux-6.10.14-linuxkit-aarch64-with-glibc2.41 2025-10-10 03:26:25
educode_celery_worker  | - *** --- * --- 
educode_celery_worker  | - ** ---------- [config]
educode_celery_worker  | - ** ---------- .> app:         educode:0xffffa3b79290
educode_celery_worker  | - ** ---------- .> transport:   redis://redis:6379/0
educode_celery_worker  | - ** ---------- .> results:     redis://redis:6379/0
educode_celery_worker  | - *** --- * --- .> concurrency: 11 (prefork)
educode_celery_worker  | -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
educode_celery_worker  | --- ***** ----- 
educode_api            |     from app.schemas.user import UserCreate, UserRead, UserUpdate, UserList
educode_api            |   File "/app/app/schemas/__init__.py", line 10, in <module>
educode_api            |     from app.schemas.subject import SubjectBase, SubjectCreate, SubjectRead
educode_api            |   File "/app/app/schemas/subject.py", line 49, in <module>
educode_api            |     class SubjectWithLessons(SubjectRead):
educode_api            |   File "/app/app/schemas/subject.py", line 51, in SubjectWithLessons
educode_api            |     from app.schemas.lesson import LessonRead
educode_api            |   File "/app/app/schemas/lesson.py", line 53, in <module>
educode_api            |     class LessonWithTasks(LessonRead):
educode_api            |   File "/app/app/schemas/lesson.py", line 55, in LessonWithTasks
educode_api            |     from app.schemas.task import TaskRead
educode_api            |   File "/app/app/schemas/task.py", line 61, in <module>
educode_celery_worker  |  -------------- [queues]
educode_celery_worker  |                 .> ai_queue         exchange=celery(direct) key=ai
educode_celery_worker  |                 .> celery           exchange=celery(direct) key=celery
educode_api            |     class TaskWithSubmissions(TaskRead):
educode_api            |   File "/app/app/schemas/task.py", line 63, in TaskWithSubmissions
educode_api            |     from app.schemas.submission import SubmissionRead
educode_api            |   File "/app/app/schemas/submission.py", line 57, in <module>
educode_api            |     class SubmissionWithEvaluation(SubmissionRead):
educode_api            |   File "/app/app/schemas/submission.py", line 59, in SubmissionWithEvaluation
educode_celery_worker  |                 .> grading_queue    exchange=celery(direct) key=grading
educode_celery_worker  | 
educode_celery_worker  | [tasks]
educode_celery_worker  |   . app.tasks.ai_tasks.generate_ai_solutions
educode_celery_worker  |   . app.tasks.ai_tasks.validate_ai_solution
educode_api            |     from app.schemas.evaluation import EvaluationRead
educode_api            |   File "/app/app/schemas/evaluation.py", line 59, in <module>
educode_api            |     class EvaluationWithSubmission(EvaluationRead):
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
educode_api            |     private_attributes = inspect_namespace(
educode_api            |                          ^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
educode_api            |     raise PydanticUserError(
educode_api            | pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `SubmissionRead = <class 'app.schemas.submission.SubmissionRead'>`. All model fields require a type annotation; if `SubmissionRead` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.
educode_celery_worker  |   . app.tasks.celery_app.health_check
educode_celery_worker  |   . app.tasks.celery_app.test_task
educode_celery_worker  |   . app.tasks.grading_tasks.batch_grade_submissions
educode_api            | 
educode_api            | For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
educode_api            | WARNING:  WatchFiles detected changes in 'app/models/__init__.py', 'app/models/user.py', 'app/routes/__init__.py', 'app/routes/lessons.py', 'app/schemas/__init__.py', 'app/routes/submissions.py', 'app/models/task.py', 'app/routes/tasks.py', 'app/models/lesson.py', 'main.py', 'app/schemas/user.py', 'app/core/config.py', 'app/routes/evaluations.py', 'app/schemas/task.py', 'app/schemas/lesson.py', 'app/routes/groups.py', 'app/models/submission.py', 'app/schemas/submission.py', 'app/routes/users.py', 'app/models/ai_solution.py', 'app/routes/subjects.py', 'app/models/group.py', 'app/schemas/ai_solution.py', 'app/schemas/group.py', 'app/tasks/celery_app.py', 'app/models/evaluation.py', 'app/models/subject.py', 'app/schemas/evaluation.py', 'app/schemas/subject.py', 'alembic/env.py'. Reloading...
educode_api            | Process SpawnProcess-2:
educode_api            | Traceback (most recent call last):
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
educode_api            |     self.run()
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
educode_api            |     self._target(*self._args, **self._kwargs)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
educode_api            |     target(sockets=sockets)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
educode_api            |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_compat.py", line 23, in asyncio_run
educode_celery_worker  |   . app.tasks.grading_tasks.calculate_ai_similarity
educode_celery_worker  |   . app.tasks.grading_tasks.calculate_intra_group_similarity
educode_celery_worker  |   . app.tasks.grading_tasks.generate_final_grade
educode_celery_worker  | 
educode_celery_worker  | [2025-10-10 03:26:25,260: INFO/MainProcess] Connected to redis://redis:6379/0
educode_api            |     return runner.run(main)
educode_api            |            ^^^^^^^^^^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
educode_api            |     return self._loop.run_until_complete(task)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
educode_api            |     await self._serve(sockets)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
educode_celery_worker  | [2025-10-10 03:26:25,262: INFO/MainProcess] mingle: searching for neighbors
educode_celery_worker  | [2025-10-10 03:26:26,271: INFO/MainProcess] mingle: all alone
educode_celery_worker  | [2025-10-10 03:26:26,289: INFO/MainProcess] celery@b700945278de ready.
educode_celery_worker  | [2025-10-10 03:26:26,293: ERROR/MainProcess] Received unregistered task of type 'app.tasks.grading_tasks.auto_grade_expired_tasks'.
educode_api            |     config.load()
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/config.py", line 438, in load
educode_api            |     self.loaded_app = import_from_string(self.app)
educode_api            |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
educode_api            |     module = importlib.import_module(module_str)
educode_api            |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_celery_worker  | The message has been ignored and discarded.
educode_celery_worker  | 
educode_celery_worker  | Did you remember to import the module containing this task?
educode_celery_worker  | Or maybe you're using relative imports?
educode_celery_worker  | 
educode_celery_worker  | Please see
educode_celery_worker  | https://docs.celeryq.dev/en/latest/internals/protocol.html
educode_celery_worker  | for more information.
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message body was:
educode_celery_worker  | b'[[], {}, {"callbacks": null, "errbacks": null, "chain": null, "chord": null}]' (77b)
educode_celery_worker  | 
educode_api            |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
educode_api            |     return _bootstrap._gcd_import(name[level:], package, level)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
educode_api            |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
educode_api            |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
educode_celery_worker  | The full contents of the message headers:
educode_celery_worker  | {'lang': 'py', 'task': 'app.tasks.grading_tasks.auto_grade_expired_tasks', 'id': '518b3b29-9b78-4e2d-849e-86537acf90f2', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': '518b3b29-9b78-4e2d-849e-86537acf90f2', 'parent_id': None, 'argsrepr': '()', 'kwargsrepr': '{}', 'origin': 'gen1@69ce4f9b05dd', 'ignore_result': False, 'replaced_task_nesting': 0, 'stamped_headers': None, 'stamps': {}}
educode_celery_worker  | 
educode_celery_worker  | The delivery info for this task is:
educode_celery_worker  | {'exchange': '', 'routing_key': 'grading_queue'}
educode_celery_worker  | Traceback (most recent call last):
educode_celery_worker  |   File "/opt/venv/lib/python3.11/site-packages/celery/worker/consumer/consumer.py", line 662, in on_task_received
educode_celery_worker  |     strategy = strategies[type_]
educode_celery_worker  |                ~~~~~~~~~~^^^^^^^
educode_celery_worker  | KeyError: 'app.tasks.grading_tasks.auto_grade_expired_tasks'
educode_celery_worker  | [2025-10-10 03:27:25,097: ERROR/MainProcess] Received unregistered task of type 'app.tasks.grading_tasks.auto_grade_expired_tasks'.
educode_celery_worker  | The message has been ignored and discarded.
educode_api            |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
educode_api            |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
educode_api            |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
educode_api            |   File "/app/app/main.py", line 10, in <module>
educode_api            |     from app.routes.health import router as health_router
educode_api            |   File "/app/app/routes/__init__.py", line 10, in <module>
educode_api            |     from .users import router as users_router
educode_api            |   File "/app/app/routes/users.py", line 16, in <module>
educode_api            |     from app.schemas.user import UserCreate, UserRead, UserUpdate, UserList
educode_api            |   File "/app/app/schemas/__init__.py", line 10, in <module>
educode_api            |     from app.schemas.subject import SubjectBase, SubjectCreate, SubjectRead
educode_api            |   File "/app/app/schemas/subject.py", line 49, in <module>
educode_api            |     class SubjectWithLessons(SubjectRead):
educode_api            |   File "/app/app/schemas/subject.py", line 51, in SubjectWithLessons
educode_celery_worker  | 
educode_celery_worker  | Did you remember to import the module containing this task?
educode_celery_worker  | Or maybe you're using relative imports?
educode_celery_worker  | 
educode_api            |     from app.schemas.lesson import LessonRead
educode_api            |   File "/app/app/schemas/lesson.py", line 53, in <module>
educode_api            |     class LessonWithTasks(LessonRead):
educode_api            |   File "/app/app/schemas/lesson.py", line 55, in LessonWithTasks
educode_api            |     from app.schemas.task import TaskRead
educode_celery_worker  | Please see
educode_celery_worker  | https://docs.celeryq.dev/en/latest/internals/protocol.html
educode_celery_worker  | for more information.
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message body was:
educode_celery_worker  | b'[[], {}, {"callbacks": null, "errbacks": null, "chain": null, "chord": null}]' (77b)
educode_celery_worker  | 
educode_celery_worker  | The full contents of the message headers:
educode_celery_worker  | {'lang': 'py', 'task': 'app.tasks.grading_tasks.auto_grade_expired_tasks', 'id': '01979e02-76eb-4df3-9935-6f5907f8412a', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': '01979e02-76eb-4df3-9935-6f5907f8412a', 'parent_id': None, 'argsrepr': '()', 'kwargsrepr': '{}', 'origin': 'gen1@69ce4f9b05dd', 'ignore_result': False, 'replaced_task_nesting': 0, 'stamped_headers': None, 'stamps': {}}
educode_celery_worker  | 
educode_celery_worker  | The delivery info for this task is:
educode_celery_worker  | {'exchange': '', 'routing_key': 'grading_queue'}
educode_celery_worker  | Traceback (most recent call last):
educode_api            |   File "/app/app/schemas/task.py", line 61, in <module>
educode_api            |     class TaskWithSubmissions(TaskRead):
educode_api            |   File "/app/app/schemas/task.py", line 63, in TaskWithSubmissions
educode_celery_worker  |   File "/opt/venv/lib/python3.11/site-packages/celery/worker/consumer/consumer.py", line 662, in on_task_received
educode_celery_worker  |     strategy = strategies[type_]
educode_celery_worker  |                ~~~~~~~~~~^^^^^^^
educode_celery_worker  | KeyError: 'app.tasks.grading_tasks.auto_grade_expired_tasks'
educode_api            |     from app.schemas.submission import SubmissionRead
educode_api            |   File "/app/app/schemas/submission.py", line 57, in <module>
educode_api            |     class SubmissionWithEvaluation(SubmissionRead):
educode_api            |   File "/app/app/schemas/submission.py", line 59, in SubmissionWithEvaluation
educode_api            |     from app.schemas.evaluation import EvaluationRead
educode_api            |   File "/app/app/schemas/evaluation.py", line 59, in <module>
educode_api            |     class EvaluationWithSubmission(EvaluationRead):
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
educode_api            |     private_attributes = inspect_namespace(
educode_api            |                          ^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
educode_api            |     raise PydanticUserError(
educode_api            | pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `SubmissionRead = <class 'app.schemas.submission.SubmissionRead'>`. All model fields require a type annotation; if `SubmissionRead` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.
educode_api            | 
educode_api            | For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
educode_api            | WARNING:  WatchFiles detected changes in 'app/routes/ai_solutions.py'. Reloading...
educode_api            | WARNING:  WatchFiles detected changes in 'app/models/__init__.py', 'app/models/user.py', 'app/routes/__init__.py', 'app/routes/lessons.py', 'app/schemas/__init__.py', 'app/routes/submissions.py', 'app/models/task.py', 'app/routes/tasks.py', 'app/models/lesson.py', 'main.py', 'app/schemas/user.py', 'app/core/config.py', 'app/routes/evaluations.py', 'app/schemas/task.py', 'app/schemas/lesson.py', 'app/routes/groups.py', 'app/models/submission.py', 'app/schemas/submission.py', 'app/routes/users.py', 'app/models/ai_solution.py', 'app/routes/subjects.py', 'app/models/group.py', 'app/schemas/ai_solution.py', 'app/schemas/group.py', 'app/tasks/celery_app.py', 'app/models/evaluation.py', 'app/models/subject.py', 'app/schemas/evaluation.py', 'app/schemas/subject.py', 'alembic/env.py'. Reloading...
educode_api            | Process SpawnProcess-3:
educode_api            | Traceback (most recent call last):
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
educode_api            |     self.run()
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
educode_api            |     self._target(*self._args, **self._kwargs)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
educode_api            |     target(sockets=sockets)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
educode_api            |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_compat.py", line 23, in asyncio_run
educode_api            |     return runner.run(main)
educode_api            |            ^^^^^^^^^^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
educode_api            |     return self._loop.run_until_complete(task)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
educode_api            |     await self._serve(sockets)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
educode_api            |     config.load()
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/config.py", line 438, in load
educode_api            |     self.loaded_app = import_from_string(self.app)
educode_api            |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
educode_api            |     module = importlib.import_module(module_str)
educode_api            |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
educode_api            |     return _bootstrap._gcd_import(name[level:], package, level)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
educode_api            |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
educode_api            |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
educode_api            |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
educode_api            |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
educode_api            |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
educode_api            |   File "/app/app/main.py", line 10, in <module>
educode_api            |     from app.routes.health import router as health_router
educode_api            |   File "/app/app/routes/__init__.py", line 10, in <module>
educode_api            |     from .users import router as users_router
educode_api            |   File "/app/app/routes/users.py", line 16, in <module>
educode_api            |     from app.schemas.user import UserCreate, UserRead, UserUpdate, UserList
educode_api            |   File "/app/app/schemas/__init__.py", line 10, in <module>
educode_api            |     from app.schemas.subject import SubjectBase, SubjectCreate, SubjectRead
educode_api            |   File "/app/app/schemas/subject.py", line 49, in <module>
educode_api            |     class SubjectWithLessons(SubjectRead):
educode_api            |   File "/app/app/schemas/subject.py", line 51, in SubjectWithLessons
educode_api            |     from app.schemas.lesson import LessonRead
educode_api            |   File "/app/app/schemas/lesson.py", line 53, in <module>
educode_api            |     class LessonWithTasks(LessonRead):
educode_api            |   File "/app/app/schemas/lesson.py", line 55, in LessonWithTasks
educode_api            |     from app.schemas.task import TaskRead
educode_api            |   File "/app/app/schemas/task.py", line 61, in <module>
educode_api            |     class TaskWithSubmissions(TaskRead):
educode_api            |   File "/app/app/schemas/task.py", line 63, in TaskWithSubmissions
educode_api            |     from app.schemas.submission import SubmissionRead
educode_api            |   File "/app/app/schemas/submission.py", line 57, in <module>
educode_api            |     class SubmissionWithEvaluation(SubmissionRead):
educode_api            |   File "/app/app/schemas/submission.py", line 59, in SubmissionWithEvaluation
educode_api            |     from app.schemas.evaluation import EvaluationRead
educode_api            |   File "/app/app/schemas/evaluation.py", line 59, in <module>
educode_api            |     class EvaluationWithSubmission(EvaluationRead):
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
educode_api            |     private_attributes = inspect_namespace(
educode_api            |                          ^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
educode_api            |     raise PydanticUserError(
educode_api            | pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `SubmissionRead = <class 'app.schemas.submission.SubmissionRead'>`. All model fields require a type annotation; if `SubmissionRead` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.
educode_api            | 
educode_api            | For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
educode_api            | Process SpawnProcess-4:
educode_api            | Traceback (most recent call last):
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
educode_api            |     self.run()
educode_api            |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
educode_api            |     self._target(*self._args, **self._kwargs)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
educode_api            |     target(sockets=sockets)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
educode_api            |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/_compat.py", line 23, in asyncio_run
educode_api            |     return runner.run(main)
educode_api            |            ^^^^^^^^^^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
educode_api            |     return self._loop.run_until_complete(task)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
educode_api            |     await self._serve(sockets)
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
educode_api            |     config.load()
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/config.py", line 438, in load
educode_api            |     self.loaded_app = import_from_string(self.app)
educode_api            |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
educode_api            |     module = importlib.import_module(module_str)
educode_api            |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
educode_api            |     return _bootstrap._gcd_import(name[level:], package, level)
educode_api            |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
educode_api            |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
educode_api            |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
educode_api            |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
educode_api            |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
educode_api            |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
educode_api            |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
educode_api            |   File "/app/app/main.py", line 10, in <module>
educode_api            |     from app.routes.health import router as health_router
educode_api            |   File "/app/app/routes/__init__.py", line 10, in <module>
educode_api            |     from .users import router as users_router
educode_api            |   File "/app/app/routes/users.py", line 16, in <module>
educode_api            |     from app.schemas.user import UserCreate, UserRead, UserUpdate, UserList
educode_api            |   File "/app/app/schemas/__init__.py", line 10, in <module>
educode_api            |     from app.schemas.subject import SubjectBase, SubjectCreate, SubjectRead
educode_api            |   File "/app/app/schemas/subject.py", line 49, in <module>
educode_api            |     class SubjectWithLessons(SubjectRead):
educode_api            |   File "/app/app/schemas/subject.py", line 51, in SubjectWithLessons
educode_api            |     from app.schemas.lesson import LessonRead
educode_api            |   File "/app/app/schemas/lesson.py", line 53, in <module>
educode_api            |     class LessonWithTasks(LessonRead):
educode_api            |   File "/app/app/schemas/lesson.py", line 55, in LessonWithTasks
educode_api            |     from app.schemas.task import TaskRead
educode_api            |   File "/app/app/schemas/task.py", line 61, in <module>
educode_api            |     class TaskWithSubmissions(TaskRead):
educode_api            |   File "/app/app/schemas/task.py", line 63, in TaskWithSubmissions
educode_api            |     from app.schemas.submission import SubmissionRead
educode_api            |   File "/app/app/schemas/submission.py", line 57, in <module>
educode_api            |     class SubmissionWithEvaluation(SubmissionRead):
educode_api            |   File "/app/app/schemas/submission.py", line 59, in SubmissionWithEvaluation
educode_api            |     from app.schemas.evaluation import EvaluationRead
educode_api            |   File "/app/app/schemas/evaluation.py", line 59, in <module>
educode_api            |     class EvaluationWithSubmission(EvaluationRead):
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
educode_api            |     private_attributes = inspect_namespace(
educode_api            |                          ^^^^^^^^^^^^^^^^^^
educode_api            |   File "/opt/venv/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
educode_api            |     raise PydanticUserError(
educode_api            | pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `SubmissionRead = <class 'app.schemas.submission.SubmissionRead'>`. All model fields require a type annotation; if `SubmissionRead` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.
educode_api            | 
educode_api            | For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
~/Desktop/educode/backend                                                                                                                                     08:27:31
 